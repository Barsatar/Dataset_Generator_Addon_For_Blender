<p align="left">
 <a href="https://github.com/Barsatar/dataset-generator-blender-addon/blob/main/README.ru.md"><img src="https://img.shields.io/badge/RU-grey"></a>
 <a href="https://github.com/Barsatar/dataset-generator-blender-addon/blob/main/README.md"><img src="https://img.shields.io/badge/EN-grey"></a>
</p>

<picture>
 <img src="https://github.com/Barsatar/Dataset_Generator_Addon_For_Blender/assets/61797005/26a39b03-83f4-46c9-adc3-56568467b942">
</picture>

<p align="center">
 <img src="https://img.shields.io/badge/Blender%20%20-%203.4.0%20-%20%23FF7400%09?logo=blender">
 <img src="https://img.shields.io/badge/Version%20%20-%20v1.0.0%20(Alpha)%20-%20%234479D4">
 <img src="https://img.shields.io/badge/License%20%20-%20MIT%20-%20%2300CC00">
</p>

<h1>О программе</h1>

**Dataset Generator** — это дополнение для трёхмерного редактора Blender, позволяющее в автоматическом режиме собирать и рендерить сцены на основе заданных моделей объектов, моделей фонов, камер, источников света и материалов. Объекты на сгенерированных сценах могут быть легко размечены и классифицированы автоматически, что позволяет использовать их для формирования синтетических наборов данных, которые можно было бы применить при обучении нейронных сетей, связанных с обработкой изображений.

<h1>Загрузка</h1>

| Версия Blender | Версия программы | Ссылка |
| --- | --- | --- |
| 3.4.0 | v1.0.0 (Alpha) | [dataset_generator_blender-3.4.0_v1.0.0-alpha.zip](https://github.com/Barsatar/dataset-generator-blender-addon/releases/download/release/dataset_generator_blender-3.4.0_v1.0.0-alpha.zip)

<h1>Установка</h1>

1) Перейти в панель «Edit».
2) Открыть окно «Preferences».
3) Перейти в раздел «Add-ons».
4) Нажать кнопку «Install».
5) Выбрать zip-файл с дополнением и нажать кнопку «Install Add-ons».
6) Поставить флажок в чек-боксе дополнения для его активации.

<h1>Документация</h1>

<details>
 <summary><h2>Расположение дополнения в Blender</h2></summary>

 > **3D Viewport > UI > Dataset Generator**

 <picture>
  <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/fb047b15-3336-4431-b28b-5ab7db8cf9d9">
 </picture>
</details>

<details>
 <summary><h2>Подготовка перед использованием дополнения</h2></summary>

 <picture>
  <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/fe71c0c7-255d-4c63-8035-27adae9623e4", height=300, align="left">
 </picture>

 Процесс подготовки сцены перед использованием **Dataset Generator** достаточно прост, однако для корректной работы дополнения необходимо выполнить несколько шагов.

 <br clear="left">

 <h3>Шаг 1. Создание коллекций</h3>
 
 + **«Model Collection»** — это коллекция, предназначенная для хранения моделей объектов, которые будут использоваться при генерации сцен.
 + **«Camera Collection»** — это коллекция, предназначенная для хранения камер, которые будут использоваться при рендеринге сгенерированных сцен.
 + **«Light Collection»** — это коллекция, предназначенная для хранения источников света, которые будут использоваться при рендеринге сгенерированных сцен.
 + **«Background Collection»** — это коллекция, предназначенная для хранения моделей объектов, на фоне которых будут распологаться модели объектов из «Model Collection» при генерации сцен.

 <picture>
  <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/c1b2b736-c071-492f-9f7c-354de528d01a">
 </picture>

 <p></p>

 > **Примечание 1**: Названия коллекций могут отличаться от названий, представленных в данной документации.

 <h3>Шаг 2. Подготовка моделей объектов для «Model Collection»</h3>

 «Model Collection» пердназначена для хранения моделей объектов, являющихся целевыми объектами обнаружения, классификации или сегментации нейронными сетями. Это означает, что только для моделей объектов из данной коллекции будут генерироваться маски, необходимые для автоматического определения границ объектов в пределах сгенерированной сцены, а также назначаться классы объектов.

 Перед использованием **Dataset Generator** нужно удостовериться в том, что:

 + Модели объектов имеют тип «MESH».

   <picture>
    <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/8388502d-6977-436e-9da8-a38236a58206">
   </picture>

   <p></p>

   > **Примечание 1**: «Model Collection» может содержать объекты с другими типами, однако они не будут использоваться дополнением при генерации сцен.\
   > **Примечание 2**: Для работы дополнения необходимо, чтобы в «Model Collection» находился хотя бы один объект с типом «MESH».

 + Название объекта модели и название объекта данных о модели совпадают.

   <picture>
    <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/949c31d1-1884-44a9-8e67-67c98c5ec7fb">
   </picture>

 + Модели объектов, состоящих из нескольких частей, объединены в один объект и имеют один объект данных.
 
   <picture>
    <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/b6ab3bb5-1687-4f24-866d-a69fcc61011f" height=150>
   </picture>
 
   <p></p>
   
   > **Примечание 3:** Части составной модели объекта, необъединённые в один объект и не имеющие один объект данных, будут восприниматься дополнением как отдельные модели объектов.
 
 + Исходные точки («Origin point») моделей объектов находятся в требуемых местах.
 
   <picture>
    <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/25370c3f-95df-4e02-9aa3-99556adf73b2" height=150>
   </picture>
 
 <h3>Шаг 3. Подготовка камер для «Camera Collection»</h3>
 
 «Camera Collection» предназначена для хранения камер, при помощи которых будет осуществляться рендеринг создаваемых сцен. Основной задачей, которую нужно выполнить при подготовке, является расстановка камер в необходимые положения в пределах сцены.
 
 Перед использованием **Dataset Generator** нужно удостовериться в том, что:
 
 + Объекты камер имеют тип «CAMERA».
 
   <picture>
    <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/56237f0a-4c19-41f0-9fd1-fd1623206d88">
   </picture>

   <p></p>

   > **Примечание 1**: «Camera Collection» может содержать объекты с другими типами, однако они не будут использоваться дополнением при рендеринге сцен.\
   > **Примечание 2**: Для работы дополнения необходимо, чтобы в «Camera Collection» находился хотя бы один объект с типом «CAMERA».

 + Название объекта камеры и название объекта данных о камере совпадают.
 
   <picture>
    <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/48373a15-bfab-4470-ac1d-29937899a294">
   </picture>
 
 <h3>Шаг 4. Подготовка источников света для «Light Collection»</h3>
 
 «Light Collection» предназначена для хранения источников света, при помощи которых будет осуществляться рендеринг создаваемых сцен. Основной задачей, которую нужно выполнить при подготовке, является расстановка источников света в необходимые положения в пределах сцены.
 
 Перед использованием **Dataset Generator** нужно удостовериться в том, что:

 + Объекты источников света имеют тип «LIGHT».

   <picture>
    <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/bf5a5fc3-cad5-4351-ad4c-643d356e3cd4">
   </picture>

   <p></p>

   > **Примечание 1**: «Light Collection» может содержать объекты с другими типами, однако они не будут использоваться дополнением при рендеринге сцен.\
   > **Примечание 2**: Для работы дополнения необходимо, чтобы в «Light Collection» находился хотя бы один объект с типом «LIGHT».

 + Название объекта источника света и название объекта данных об источнике света совпадают.

   <picture>
    <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/0a9ca4ce-872f-4a53-be70-2174106d7ea4">
   </picture>

 <h3>Шаг 5. Подготовка моделей фоновых объектов для «Background Collection»</h3>

 «Background Collection» предназначена для хранения моделей фоновых объектов, вершины которых используются в качестве точек привязки моделей объектов из «Model Collection» при генерации сцен. Основными задачами, которые нужно выполнить при подготовке, являются рассположение моделей фоновых объектов в необходимых местах в пределах сцены и формирование групп вершин, которые будут использоваться для привязки моделей объектов из «Model Collection».
 
 <picture>
  <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/cef98e9f-31c1-4770-8887-e6a9ce0c473e" height=200 align="left">
 </picture>
 
 <picture>
  <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/a75a26ba-bc08-4151-ab64-14e444ca1107" height=200>
 </picture>
 
 <br clear="left">
 <p></p>
 
 Перед использованием **Dataset Generator** нужно удостовериться в том, что:
 
 + Модели фоновых объектов имеют тип «MESH».
 
   <picture>
    <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/630287f1-a143-4edd-b40e-f904bc8f61ed">
   </picture>
 
   <p></p>
 
   > **Примечание 1**: «Background Collection» может содержать объекты с другими типами, однако они не будут использоваться дополнением при генерации сцен.\
   > **Примечание 2**: Для работы дополнения необходимо, чтобы в «Background Collection» находился хотя бы один объект с типом «MESH».
 
 + Название объекта фоновой модели и название объекта данных о фоновой модели совпадают.
 
   <picture>
    <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/229c362d-ec82-49ed-b372-545d4d1e5eab">
   </picture>
 
 + Для моделей фоновых объектов назначены группы вершин.
 
   <picture>
    <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/f50fb510-687b-4dee-836a-90ed5afabe72">
   </picture>
 
   <p></p>
 
   > **Примечание 3**: Для работы дополнения необходимо, чтобы для каждой модели фонового объекта из «Background Collection» была назначена хотя бы одна группа вершин.
 
 + Модели фоновых объектов, состоящих из нескольких частей, объединены в один объект и имеют один объект данных.
   
   > **Примечание 4:** Части составной модели фонового объекта, необъединённые в один объект и не имеющие один объект данных, будут восприниматься дополнением как отдельные модели фоновых объектов.
 
 <h3>Шаг 6. Подготовка материалов для моделей</h2>
 
 Материалы для моделей целевых объектов обнаружения и моделей фоновых объектов не требуют особой подготовки. Для удобства назначения материалов моделям рекомендуется называть материалы в соответсвии с какой-либо методикой, которая позволяет быстро группировать материалы. Например, **«Тип модели» > «Тип материала» > «Номер материала»**.
 
 <picture>
  <img src="https://github.com/Barsatar/dataset-generator-blender-addon/assets/61797005/29756a81-3c1b-4660-8d31-85e290470bcd">
 </picture>
 
 <p></p>
 
 Также рекомендуется создать отдельный объект, не участвующий в генерации сцен, в котором будут храниться все созданные материалы, так как существует риск потери материалов в процессе работы данного дополнения.
</details>

<details>
 <summary><h2>Настройка панели «Model»</h2></summary>
 
 > Документация в разработке.
</details>

<details>
 <summary><h2>Настройка панели «Camera»</h2></summary>
 
 > Документация в разработке.
</details>

<details>
 <summary><h2>Настройка панели «Light»</h2></summary>
 
 > Документация в разработке.
</details>

<details>
 <summary><h2>Настройка панели «Background»</h2></summary>
 
 > Документация в разработке.
</details>

<details>
 <summary><h2>Настройка панели «Render»</h2></summary>
 
 > Документация в разработке.
</details>

<details>
 <summary><h2>Настройка панели «Generator»</h2></summary>
 
 > Документация в разработке.
</details>

<h1>Разработчики</h1>

+ [Barsatar](https://github.com/Barsatar)

<h1>Лицензия</h1>

Дополнение **Dataset Generator** для трёхмерного редактора Blender распространяется под [лицензией MIT](https://github.com/Barsatar/dataset-generator-blender-addon/blob/main/LICENSE.ru.md).

<h1>От автора</h1>

Дополнение **Dataset Generator** разрабатывалось для личных нужд, в связи с чем в нём могут встретиться различные ~баги~ фичи, ошибки и тому подобное. Разработанная программа хорошо подходит для быстрого создания и рендеринга большого количества простых трёхмерных сцен, которые могут быть использованы при обучении нейронных сетей, свзянанных с обработкой изображений.

Если данное дополнение было полезным для Вас, то поставьте звёздочку.
